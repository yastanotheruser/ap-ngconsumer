<mat-card class="mat-elevation-z8">
  <mat-card-title>{{ title }}</mat-card-title>
  <mat-card-subtitle>{{ countDisplay }}</mat-card-subtitle>
  <mat-card-content>
    <div class="table-wrapper mat-elevation-z8">
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        matSortActive="id_de_caso"
        matSortDirection="asc"
        (matSortChange)="onSort($event)"
      >
        <ng-container matColumnDef="id_de_caso">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por id"
          >
            Id
          </th>
          <td mat-cell *matCellDef="let element">{{ element.id_de_caso }}</td>
        </ng-container>
        <ng-container matColumnDef="departamento_nom">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por departamento"
          >
            Departamento
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.departamento_nom }}
          </td>
        </ng-container>
        <ng-container matColumnDef="ciudad_municipio_nom">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por municipio"
          >
            Municipio
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.ciudad_municipio_nom }}
          </td>
        </ng-container>
        <ng-container matColumnDef="edad">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por edad"
          >
            Edad
          </th>
          <td mat-cell *matCellDef="let element">{{ element.edad }}</td>
        </ng-container>
        <ng-container matColumnDef="sexo">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por sexo"
          >
            Sexo
          </th>
          <td mat-cell *matCellDef="let element">{{ element.sexo }}</td>
        </ng-container>
        <ng-container matColumnDef="fecha_inicio_sintomas">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por síntomas"
          >
            Síntomas
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.fecha_inicio_sintomas }}
          </td>
        </ng-container>
        <ng-container matColumnDef="fecha_diagnostico">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Ordenar por diagnóstico"
          >
            Diagnóstico
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.fecha_diagnostico }}
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr class="mat-row cdk-row" *matNoDataRow>
          <td
            class="mat-cell cdk-cell no-data-cell"
            [attr.colspan]="displayedColumns.length"
          >
            {{ loading ? 'Cargando datos...' : 'No hay datos para mostrar' }}
          </td>
        </tr>
      </table>
      <mat-paginator
        [length]="positivos?.count || 0"
        [pageSize]="5"
        [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons
        aria-label="Seleccione una página"
        (page)="onPage($event)"
      ></mat-paginator>
      <div *ngIf="loading && this.positivos.count" class="loading-overlay">
        <mat-spinner [diameter]="64"></mat-spinner>
      </div>
    </div>
  </mat-card-content>
  <mat-card-footer>
    <app-footer></app-footer>
  </mat-card-footer>
</mat-card>
